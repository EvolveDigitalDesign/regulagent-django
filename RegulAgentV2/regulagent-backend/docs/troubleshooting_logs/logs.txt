172.18.0.1:58124 - "POST /api/w3a/temp_4246139385_140b4c31/confirm-docs HTTP/1.1" 200
172.18.0.1:52512 - "OPTIONS /api/w3a/temp_4246139385_140b4c31/extractions HTTP/1.1" 200
172.18.0.1:52520 - "POST /api/w3a/temp_4246139385_140b4c31/extractions HTTP/1.1" 200
172.18.0.1:52534 - "OPTIONS /api/w3a/temp_4246139385_140b4c31/geometry HTTP/1.1" 200
ğŸ” LOADER: district=7C â†’ normalized=07c
ğŸ” LOADER: combined_path=/app/apps/policy/packs/tx/w3a/district_overlays/07c__auto.yml
ğŸ” LOADER: file exists=False
ğŸ” LOADER: 7C Hybrid mode - checking for:
  YAML procedures: /app/apps/policy/packs/tx/w3a/district_overlays/07c_county_procedures.yml (exists=True)
  JSON formations: /app/apps/policy/packs/tx/w3a/district_overlays/07c_plugging_book.json (exists=True)
ğŸ” LOADER: Loaded 7C procedures YAML, keys=['district', 'extracted_at', 'requirements', 'preferences', 'counties']
ğŸ” LOADER: Loaded 7C formations JSON, 14 counties
ğŸ” LOADER: Merged requirements
ğŸ” LOADER: Merged preferences
ğŸ” LOADER: Looking up county=UPTON in combined YAML
ğŸ” LOADER: Available counties=['Coke County', 'Concho County', 'Crockett County', 'Irion County', 'Kimble County']
ğŸ” LOADER: Trying aliases=['UPTON', 'UPTON County']
ğŸ” LOADER: County data found, keys=['requirements', 'preferences', 'county_procedures']
ğŸ” LOADER: county_overrides keys=['county_procedures']
ğŸ” LOADER: formation_tops in county_overrides=0
ğŸ” LOADER: Checking 7C formation loading: is_7c_hybrid=True, has_formation_json=True, field=SPRABERRY (TREND AREA)
ğŸ” LOADER: Loading formations from JSON for county=UPTON, field=SPRABERRY (TREND AREA)
ğŸ” _load_7c_formations: county=UPTON, field=SPRABERRY (TREND AREA), field_norm=spraberry
ğŸ” _load_7c_formations: 107 total fieldSpecs for county
ğŸ” _load_7c_formations: 11 specs matched field, 11 formations extracted
ğŸ” LOADER: _load_7c_formations_for_field returned 11 formations
ğŸ” LOADER: Loaded 11 formations from JSON for SPRABERRY (TREND AREA)
ğŸ” LOADER FINAL: merged['district_overrides'] has 11 formation_tops
ğŸ” LOADER FINAL: Formation names=['Spraberry', 'San Andres', 'Yates', 'Spraberry', 'San Andres']
ğŸ” LOADER POST-VALIDATION: out['effective']['district_overrides'] has 11 formation_tops
172.18.0.1:52550 - "GET /api/w3a/temp_4246139385_140b4c31/geometry HTTP/1.1" 200
172.18.0.1:58992 - "OPTIONS /api/w3a/temp_4246139385_140b4c31/confirm-geometry HTTP/1.1" 200
ğŸ” LOADER: district=7C â†’ normalized=07c
ğŸ” LOADER: combined_path=/app/apps/policy/packs/tx/w3a/district_overlays/07c__auto.yml
ğŸ” LOADER: file exists=False
ğŸ” LOADER: 7C Hybrid mode - checking for:
  YAML procedures: /app/apps/policy/packs/tx/w3a/district_overlays/07c_county_procedures.yml (exists=True)
  JSON formations: /app/apps/policy/packs/tx/w3a/district_overlays/07c_plugging_book.json (exists=True)
ğŸ” LOADER: Loaded 7C procedures YAML, keys=['district', 'extracted_at', 'requirements', 'preferences', 'counties']
ğŸ” LOADER: Loaded 7C formations JSON, 14 counties
ğŸ” LOADER: Merged requirements
ğŸ” LOADER: Merged preferences
ğŸ” LOADER: Looking up county=UPTON in combined YAML
ğŸ” LOADER: Available counties=['Coke County', 'Concho County', 'Crockett County', 'Irion County', 'Kimble County']
ğŸ” LOADER: Trying aliases=['UPTON', 'UPTON County']
ğŸ” LOADER: County data found, keys=['requirements', 'preferences', 'county_procedures']
ğŸ” LOADER: county_overrides keys=['county_procedures']
ğŸ” LOADER: formation_tops in county_overrides=0
ğŸ” LOADER: Checking 7C formation loading: is_7c_hybrid=True, has_formation_json=True, field=SPRABERRY (TREND AREA)
ğŸ” LOADER: Loading formations from JSON for county=UPTON, field=SPRABERRY (TREND AREA)
ğŸ” _load_7c_formations: county=UPTON, field=SPRABERRY (TREND AREA), field_norm=spraberry
ğŸ” _load_7c_formations: 107 total fieldSpecs for county
ğŸ” _load_7c_formations: 11 specs matched field, 11 formations extracted
ğŸ” LOADER: _load_7c_formations_for_field returned 11 formations
ğŸ” LOADER: Loaded 11 formations from JSON for SPRABERRY (TREND AREA)
ğŸ” LOADER FINAL: merged['district_overrides'] has 11 formation_tops
ğŸ” LOADER FINAL: Formation names=['Spraberry', 'San Andres', 'Yates', 'Spraberry', 'San Andres']
ğŸ” LOADER POST-VALIDATION: out['effective']['district_overrides'] has 11 formation_tops
ğŸ” KERNEL MAIN: policy keys=['policy_id', 'policy_version', 'jurisdiction', 'form', 'effective_from', 'as_of', 'base', 'effective', 'district', 'county', 'field_resolution', 'incomplete_reasons', 'complete', 'preferences']
ğŸ” KERNEL MAIN: policy['complete']=True
ğŸ” KERNEL MAIN: Policy is complete, proceeding to generate steps
ğŸš¨ğŸš¨ğŸš¨ KERNEL GENERATE_STEPS CALLED - facts has annular_gaps: False, count: 0
ğŸš¨ KERNEL: annular_gaps from facts = 0 gaps
ğŸ”§ CIBP: Found 1 perforations in facts
   Perf 6910.0-10400 ft
ğŸ”§ CIBP: Shallowest perforation top: 6910.0 ft
ğŸ”§ CIBP: Deepest formation top: 7000.0 ft
ğŸ”§ CIBP: Using SHALLOWER of perf (6910.0) and formation (7000.0): 6910.0 ft
ğŸ”§ CIBP DETECTOR: exposed=True, has_existing_cibp=False, has_cap_step=False, shallowest_perf_top_ft=6910.0, covered_by_ops=False
ğŸ”§ CIBP DETECTOR: production_shoe_ft=10500.0
ğŸ”§ğŸ”§ğŸ”§ CIBP DETECTOR: ENTERED CIBP GENERATION BLOCK
ğŸ”§ CIBP: Step 1 - Calculating perf-based depth from shallowest_perf_top_ft=6910.0
ğŸ”§ CIBP: Step 1 COMPLETE - plug_depth_from_perfs=6860.0 (50 ft above shallowest perf top)
ğŸ”§ CIBP: Step 2 - Checking for KOP in resolved_facts: ['api14', 'state', 'district', 'county', 'field', 'lease', 'well_no', 'lat', 'lon', 'has_uqw', 'uqw_base_ft', 'use_cibp', 'casing_record', 'surface_shoe_ft', 'production_casing_toc_ft', 'production_shoe_ft', 'formation_tops_map', 'perforations', 'production_perforations', 'existing_mechanical_barriers', 'cibp_present', 'tubing', 'historic_cement_jobs']
ğŸ”§ CIBP: Step 2 - kop_data={}
ğŸ”§ CIBP: Step 2 COMPLETE - kop_md_ft=None
ğŸ”§ CIBP: Step 3 SKIPPED - No KOP found, using perf-based depth=6860.0
ğŸ”§ CIBP: Step 4 - Creating bridge_plug step at depth=6860.0, reason='perforations (50 ft above shallowest perf top)'
ğŸ”§ CIBP: Step 4a - About to append bridge_plug_step to steps (current steps count: 4)
ğŸ”§ CIBP: Step 4b - bridge_plug appended successfully (new steps count: 5)
ğŸ”§ CIBP: Step 4 COMPLETE - âœ… bridge_plug added
ğŸ”§ CIBP: Step 5 - Creating bridge_plug_cap
ğŸ”§ CIBP: Step 5a - Policy override cap_len=20.0
ğŸ”§ CIBP: Step 5c - Building cap_step (cap_len=20.0, plug_depth=6860.0)
ğŸ”§ CIBP: Step 5d - Added geometry to cap: casing_id=None, stinger_od=None
ğŸ”§ CIBP: Step 5e - About to append cap_step (current steps count: 5)
ğŸ”§ CIBP: Step 5f - cap appended successfully (new steps count: 6)
ğŸ”§ CIBP: Step 5 COMPLETE - âœ… bridge_plug_cap added with length 20.0 ft
ğŸ”§ CIBP: Step 6 - Checking for redundant productive_horizon_isolation_plug
ğŸ”§ CIBP: Step 6 COMPLETE - No productive_horizon_isolation_plug found to remove
ğŸ” KERNEL MAIN: About to call _apply_district_overrides with 6 steps
ğŸ” KERNEL MAIN: policy.get('effective') type=<class 'dict'>
ğŸ” KERNEL MAIN: district=7C, county=UPTON
ğŸ” KERNEL _apply_district_overrides: START
ğŸ” KERNEL: policy_effective type=<class 'dict'>, keys=['citations', 'requirements', 'cement_class', 'preferences', 'district_overrides']
ğŸ” KERNEL: overrides type=<class 'dict'>, keys=['county_procedures', 'formation_tops']
ğŸ” KERNEL: formation_tops count=12
ğŸ” KERNEL: Formation names=['Spraberry', 'San Andres', 'Yates', 'Spraberry', 'San Andres', 'Yates', 'Santa Rosa', 'Spraberry', 'San Andres', 'Yates', 'Santa Rosa', 'Wolfcamp']
ğŸ” KERNEL: About to iterate 12 formation tops
ğŸ” KERNEL: Formation=Spraberry, plug_required=True, use_when='East Central Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='East Central Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ” KERNEL: use_when 'East Central Upton Co.' evaluated to False
ğŸ” KERNEL: SKIPPING Spraberry - use_when condition not met
ğŸ” KERNEL: Formation=San Andres, plug_required=True, use_when='East Central Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='East Central Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ” KERNEL: use_when 'East Central Upton Co.' evaluated to False
ğŸ” KERNEL: SKIPPING San Andres - use_when condition not met
ğŸ” KERNEL: Formation=Yates, plug_required=True, use_when='East Central Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='East Central Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ” KERNEL: use_when 'East Central Upton Co.' evaluated to False
ğŸ” KERNEL: SKIPPING Yates - use_when condition not met
ğŸ” KERNEL: Formation=Spraberry, plug_required=True, use_when='Northeast Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Northeast Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ” KERNEL: use_when 'Northeast Upton Co.' evaluated to False
ğŸ” KERNEL: SKIPPING Spraberry - use_when condition not met
ğŸ” KERNEL: Formation=San Andres, plug_required=True, use_when='Northeast Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Northeast Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ” KERNEL: use_when 'Northeast Upton Co.' evaluated to False
ğŸ” KERNEL: SKIPPING San Andres - use_when condition not met
ğŸ” KERNEL: Formation=Yates, plug_required=True, use_when='Northeast Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Northeast Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ” KERNEL: use_when 'Northeast Upton Co.' evaluated to False
ğŸ” KERNEL: SKIPPING Yates - use_when condition not met
ğŸ” KERNEL: Formation=Santa Rosa, plug_required=True, use_when='Northeast Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Northeast Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ” KERNEL: use_when 'Northeast Upton Co.' evaluated to False
ğŸ” KERNEL: SKIPPING Santa Rosa - use_when condition not met
ğŸ” KERNEL: Formation=Spraberry, plug_required=True, use_when='Central and Northwest Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Central and Northwest Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ—ºï¸ 'Central and X' eval: 'Central and Northwest Upton Co.' â†’ central=True OR directional=True
ğŸ” KERNEL: use_when 'Central and Northwest Upton Co.' evaluated to True
ğŸ” KERNEL: Appending formation plug for Spraberry
ğŸ” KERNEL: Successfully added Spraberry plug to out list (now 7 steps)
ğŸ” KERNEL: Formation=San Andres, plug_required=True, use_when='Central and Northwest Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Central and Northwest Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ—ºï¸ 'Central and X' eval: 'Central and Northwest Upton Co.' â†’ central=True OR directional=True
ğŸ” KERNEL: use_when 'Central and Northwest Upton Co.' evaluated to True
ğŸ” KERNEL: Applying additional_requirements 'Tag' to San Andres
ğŸ” KERNEL: Appending formation plug for San Andres
ğŸ” KERNEL: Successfully added San Andres plug to out list (now 8 steps)
ğŸ” KERNEL: Formation=Yates, plug_required=True, use_when='Central and Northwest Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Central and Northwest Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ—ºï¸ 'Central and X' eval: 'Central and Northwest Upton Co.' â†’ central=True OR directional=True
ğŸ” KERNEL: use_when 'Central and Northwest Upton Co.' evaluated to True
ğŸ” KERNEL: Appending formation plug for Yates
ğŸ” KERNEL: Successfully added Yates plug to out list (now 9 steps)
ğŸ” KERNEL: Formation=Santa Rosa, plug_required=True, use_when='Central and Northwest Upton Co.'
ğŸ—ºï¸ GEO EVAL: use_when='Central and Northwest Upton Co.', lat=31.393926, lon=-102.169205, center=(31.4, -102.1)
ğŸ—ºï¸ GEO FLAGS: N=False, S=True, E=False, W=True, CenterLat=True, CenterLon=True
ğŸ—ºï¸ 'Central and X' eval: 'Central and Northwest Upton Co.' â†’ central=True OR directional=True
ğŸ” KERNEL: use_when 'Central and Northwest Upton Co.' evaluated to True
ğŸ” KERNEL: Applying additional_requirements 'Tag' to Santa Rosa
ğŸ” KERNEL: Appending formation plug for Santa Rosa
ğŸ” KERNEL: Successfully added Santa Rosa plug to out list (now 10 steps)
ğŸ” KERNEL: Formation=Wolfcamp, plug_required=True, use_when='always'
ğŸ” KERNEL: use_when 'always' evaluated to True
ğŸ” KERNEL: Appending formation plug for Wolfcamp
ğŸ” KERNEL: Successfully added Wolfcamp plug to out list (now 11 steps)
ğŸ” KERNEL SUPPRESSION: Checking 11 steps for CIBP
ğŸ” KERNEL SUPPRESSION: Found bridge_plug - top_ft=6860.0, bottom_ft=6860.0, plug_depth_ft=None
ğŸ” KERNEL: Found CIBP at 6860.0 ft
ğŸ” KERNEL: Suppressed 1 formation plug(s) below CIBP at 6860.0 ft
ğŸ” KERNEL MAIN: After _apply_district_overrides, got 10 steps back
ğŸ” KERNEL MAIN: Applying county procedures: ['cibp_required', 'surface_shoe_straddle', 'straddle_uqw', 'waterboard_protection_depth_range', 'formation_specific_tagging', 'san_andres_formation_required']
ğŸ” KERNEL MAIN: After _apply_county_procedures, got 10 steps back
ğŸ”§ MATERIALS COMPUTE: Processing 10 steps
   Step 1: type=surface_casing_shoe_plug, top_ft=600.0, bottom_ft=700.0
   Step 2: type=uqw_isolation_plug, top_ft=None, bottom_ft=None
   Step 3: type=top_plug, top_ft=0.0, bottom_ft=10.0
   Step 4: type=cut_casing_below_surface, top_ft=None, bottom_ft=None
   Step 5: type=bridge_plug, top_ft=6860.0, bottom_ft=6860.0
   Step 6: type=bridge_plug_cap, top_ft=6840.0, bottom_ft=6860.0
   Step 7: type=formation_top_plug, top_ft=4500.0, bottom_ft=4400.0
   Step 8: type=formation_top_plug, top_ft=2500.0, bottom_ft=2400.0
   Step 9: type=formation_top_plug, top_ft=1000.0, bottom_ft=900.0
   Step 10: type=formation_top_plug, top_ft=3750.0, bottom_ft=3650.0
================================================================================
ğŸ”§ PERF & SQUEEZE CALCULATION
   Target depth: 700.0 ft
   Interval length: 100.0 ft
================================================================================
ğŸ“‹ SPACES TO FILL:
   â€¢ 1 annuli (all uncmented)
   â€¢ Inside production casing (plug column)

   ANNULUS 1: production TO surface
      Inner OD: 5.500" | Outer ID/Hole: 8.097"
      Capacity: 0.034303 bbl/ft
      Length: 100.0 ft
      Base volume: 3.43 bbl

   INSIDE CASING: production
      Casing ID: 5.044"
      Capacity: 0.024718 bbl/ft
      Length: 100.0 ft
      Base volume: 2.47 bbl

   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Subtotal (annuli): 3.43 bbl
   Subtotal (inside): 2.47 bbl
   Subtotal (total):  5.90 bbl
   Ã— Texas excess: 1.0700x (+7.0% @ 0.70 kft) â†’ 6.32 bbl
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ“ TOTAL VOLUME: 6.32 bbl
================================================================================
================================================================================
âœ… PLUG CALCULATION COMPLETE: SURFACE_CASING_SHOE_PLUG
   Type: PERF & SQUEEZE PLUG (cement-aware)
   Depth: 600.0-700.0 ft
   Fill method: Perforate casing and squeeze into annuli
   Perforate through: production
   Filling: 1 annuli (uncmented)
      â€¢ production to surface: 3.43 bbl
   Total volume: 6.32 bbl
   âœ“ SACKS REQUIRED: 33 sacks
================================================================================
ğŸ”§ TOP PLUG CALCULATION TRIGGERED for step: top_plug
ğŸ”§ TOP PLUG: top_ft=0.0, bottom_ft=10.0
================================================================================
ğŸ”§ PERF & SQUEEZE CALCULATION
   Target depth: 2400.0 ft
   Interval length: 100.0 ft
================================================================================
ğŸ“‹ SPACES TO FILL:
   â€¢ 1 annuli (all uncmented)
   â€¢ Inside production casing (plug column)

   ANNULUS 1: production TO openhole
      Inner OD: 5.500" | Outer ID/Hole: 7.875"
      Capacity: 0.030858 bbl/ft
      Length: 100.0 ft
      Base volume: 3.09 bbl

   INSIDE CASING: production
      Casing ID: 5.044"
      Capacity: 0.024718 bbl/ft
      Length: 100.0 ft
      Base volume: 2.47 bbl

   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Subtotal (annuli): 3.09 bbl
   Subtotal (inside): 2.47 bbl
   Subtotal (total):  5.56 bbl
   Ã— Texas excess: 1.2400x (+24.0% @ 2.40 kft) â†’ 6.89 bbl
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ“ TOTAL VOLUME: 6.89 bbl
================================================================================
================================================================================
âœ… PLUG CALCULATION COMPLETE: FORMATION_TOP_PLUG
   Type: PERF & SQUEEZE PLUG (cement-aware)
   Depth: 2500.0-2400.0 ft
   Fill method: Perforate casing and squeeze into annuli
   Perforate through: production
   Filling: 1 annuli (uncmented)
      â€¢ production to openhole: 3.09 bbl
   Total volume: 6.89 bbl
   âœ“ SACKS REQUIRED: 37 sacks
================================================================================
================================================================================
ğŸ”§ PERF & SQUEEZE CALCULATION
   Target depth: 900.0 ft
   Interval length: 100.0 ft
================================================================================
ğŸ“‹ SPACES TO FILL:
   â€¢ 1 annuli (all uncmented)
   â€¢ Inside production casing (plug column)

   ANNULUS 1: production TO openhole
      Inner OD: 5.500" | Outer ID/Hole: 7.875"
      Capacity: 0.030858 bbl/ft
      Length: 100.0 ft
      Base volume: 3.09 bbl

   INSIDE CASING: production
      Casing ID: 5.044"
      Capacity: 0.024718 bbl/ft
      Length: 100.0 ft
      Base volume: 2.47 bbl

   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Subtotal (annuli): 3.09 bbl
   Subtotal (inside): 2.47 bbl
   Subtotal (total):  5.56 bbl
   Ã— Texas excess: 1.0900x (+9.0% @ 0.90 kft) â†’ 6.06 bbl
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ“ TOTAL VOLUME: 6.06 bbl
================================================================================
================================================================================
âœ… PLUG CALCULATION COMPLETE: FORMATION_TOP_PLUG
   Type: PERF & SQUEEZE PLUG (cement-aware)
   Depth: 1000.0-900.0 ft
   Fill method: Perforate casing and squeeze into annuli
   Perforate through: production
   Filling: 1 annuli (uncmented)
      â€¢ production to openhole: 3.09 bbl
   Total volume: 6.06 bbl
   âœ“ SACKS REQUIRED: 32 sacks
================================================================================
172.18.0.1:58994 - "POST /api/w3a/temp_4246139385_140b4c31/confirm-geometry HTTP/1.1" 200
172.18.0.1:59004 - "GET /api/plans/4246139385%3Acombined/ HTTP/1.1" 200
172.18.0.1:59020 - "GET /api/chat/threads/ HTTP/1.1" 200
ubuntu@ip-10-0-7-116:/opt/regulagent$ 




{
    "id": 94,
    "plan_id": "4246139385:combined",
    "kind": "baseline",
    "status": "draft",
    "visibility": "public",
    "tenant_id": "00000000-0000-0000-0000-000000000007",
    "well": {
        "api14": "46139385",
        "state": "TX",
        "county": "UPTON",
        "operator_name": "SUMMIT PETROLEUM LLC",
        "field_name": "Spraberry (Trend Area)",
        "lease_name": "Kassidy",
        "well_number": "2703",
        "lat": 31.393926,
        "lon": -102.169205
    },
    "well_geometry": {
        "casing_strings": [],
        "formation_tops": [
            {
                "formation": "San Andres",
                "top_ft": 4500.0
            },
            {
                "formation": "Santa Rosa",
                "top_ft": 1000.0
            },
            {
                "formation": "Yates",
                "top_ft": 2500.0
            }
        ],
        "perforations": [],
        "production_perforations": [],
        "tubing": [],
        "liner": [],
        "historic_cement_jobs": [
            {
                "sacks": 750,
                "job_type": "surface",
                "additives": [],
                "cement_top_ft": 0,
                "interval_top_ft": 0,
                "yield_ft3_per_sk": 1.18,
                "interval_bottom_ft": 750,
                "slurry_density_ppg": 15.6
            },
            {
                "sacks": 750,
                "job_type": "intermediate",
                "additives": [],
                "cement_top_ft": 2756,
                "interval_top_ft": 0,
                "yield_ft3_per_sk": 1.18,
                "interval_bottom_ft": 10487,
                "slurry_density_ppg": 15.6
            }
        ],
        "mechanical_equipment": [],
        "existing_tools": []
    },
    "kernel_version": "0.1.0",
    "policy_id": "tx.w3a",
    "overlay_id": "",
    "extraction_meta": {
        "files": [
            "/app/ra_config/mediafiles/uploads/rrc/completions/4246139385/W-2_4246139385_20260109_052233.pdf",
            "/app/ra_config/mediafiles/uploads/rrc/completions/4246139385/W-15_4246139385_20260109_052234.pdf"
        ],
        "source": "rrc_completions",
        "status": "success",
        "output_dir": "/app/ra_config/mediafiles/uploads/rrc/completions/4246139385",
        "user_files": [
            {
                "kind": "pdf",
                "type": "w2",
                "filename": "1767936212__PR0008365802_0001.pdf"
            }
        ]
    },
    "created_at": "2026-01-09T05:23:44.833288Z",
    "payload": {
        "api": "4246139385",
        "field": "SPRABERRY (TREND AREA)",
        "notes": {
            "operations": [
                "Set surface shoe plug from 700.0 to 600.0 ft",
                "Set 10 ft top plug",
                "Cut casing 3.0 ft below surface",
                "Spot 100 ft plug at San Andres top around 3500 ft",
                "Spot 100 ft plug at Yates top around 2500 ft",
                "Spot 100 ft plug at San Andres top around 4000 ft",
                "Spot 100 ft plug at Yates top around 2500 ft",
                "Spot 100 ft plug at Santa Rosa top around 1000 ft",
                "Spot 100 ft plug at San Andres top around 4500 ft",
                "Spot 100 ft plug at Yates top around 2500 ft",
                "Spot 100 ft plug at Santa Rosa top around 1000 ft"
            ]
        },
        "steps": [
            {
                "top": 6860.0,
                "base": 6860.0,
                "type": "bridge_plug",
                "sacks": null,
                "top_ft": 6860.0,
                "details": {
                    "casing_id_in": 4.778,
                    "kop_considered": false,
                    "placement_reason": "perforations (50 ft above shallowest perf top)",
                    "new_cibp_required": true,
                    "recommended_cibp_size_in": 4.53
                },
                "step_id": 1,
                "bottom_ft": 6860.0,
                "plug_type": null,
                "display_name": "bridge_plug",
                "plug_purpose": "bridge_plug",
                "tag_required": null,
                "regulatory_basis": [
                    "tx.tac.16.3.14(g)(3)"
                ],
                "special_instructions": "Pump via tubing/drill pipe only"
            },
            {
                "top": 6840.0,
                "base": 6860.0,
                "type": "bridge_plug_cap",
                "sacks": 2,
                "top_ft": 6840.0,
                "details": {
                    "cement_class": "H",
                    "depth_mid_ft": 6850.0,
                    "above_bridge_plug": 6860.0,
                    "materials_explain": {
                        "rounding_mode": "nearest",
                        "water_gal_per_sk": 5.2,
                        "yield_ft3_per_sk": 1.32
                    }
                },
                "step_id": 2,
                "bottom_ft": 6860.0,
                "plug_type": "dumpbail_plug",
                "display_name": "Dumpbail - bridge_plug_cap",
                "plug_purpose": "bridge_plug_cap",
                "tag_required": null,
                "regulatory_basis": [
                    "tx.tac.16.3.14(g)(3)"
                ],
                "special_instructions": "Pump via tubing/drill pipe only"
            },
            {
                "top": 4500.0,
                "base": 3400.0,
                "type": "cement_plug",
                "sacks": 145,
                "top_ft": 4500.0,
                "details": {
                    "merged": true,
                    "center_ft": 3500.0,
                    "merged_steps": [
                        {
                            "top_ft": 3500.0,
                            "bottom_ft": 3400.0,
                            "formation": "San Andres"
                        },
                        {
                            "top_ft": 4000.0,
                            "bottom_ft": 3900.0,
                            "formation": "San Andres"
                        },
                        {
                            "top_ft": 4500.0,
                            "bottom_ft": 4400.0,
                            "formation": "San Andres"
                        }
                    ],
                    "verification": {
                        "action": "TAG",
                        "required_wait_hr": 4
                    },
                    "geometry_used": {
                        "annulus": "production_casing_id_vs_stinger_od",
                        "casing_id_in": 4.778,
                        "stinger_od_in": 2.375
                    },
                    "materials_explain": {
                        "rounding_mode": "nearest",
                        "water_gal_per_sk": 5.2,
                        "yield_ft3_per_sk": 1.32
                    }
                },
                "step_id": 3,
                "bottom_ft": 3400.0,
                "plug_type": "spot_plug",
                "cement_class": null,
                "depth_mid_ft": null,
                "display_name": "Spot plug - cement_plug - WOC 4 Hours and Tag",
                "plug_purpose": "formation_top_plug",
                "tag_required": true,
                "regulatory_basis": [
                    "rrc.district.7c.upton:additional_requirements.tag",
                    "rrc.district.7c.upton:formation_top:San Andres"
                ],
                "special_instructions": null
            },
            {
                "top": 2500.0,
                "base": 2400.0,
                "type": "cement_plug",
                "sacks": 25,
                "top_ft": 2500.0,
                "details": {
                    "merged": true,
                    "center_ft": 2500.0,
                    "merged_steps": [
                        {
                            "top_ft": 2500.0,
                            "bottom_ft": 2400.0,
                            "formation": "Yates"
                        },
                        {
                            "top_ft": 2500.0,
                            "bottom_ft": 2400.0,
                            "formation": "Yates"
                        },
                        {
                            "top_ft": 2500.0,
                            "bottom_ft": 2400.0,
                            "formation": "Yates"
                        }
                    ],
                    "geometry_used": {
                        "annulus": "production_casing_id_vs_stinger_od",
                        "casing_id_in": 4.778,
                        "stinger_od_in": 2.375
                    },
                    "segments_calc": [
                        {
                            "top_ft": 2500.0,
                            "bottom_ft": 2400.0,
                            "length_ft": 100.0
                        },
                        {
                            "merged_formations": [
                                "Yates",
                                "Yates",
                                "Yates"
                            ]
                        },
                        {
                            "bbl": 3.104818107635515,
                            "top_ft": 2500.0,
                            "inner_in": 0.0,
                            "outer_in": 4.778,
                            "bottom_ft": 2400.0,
                            "length_ft": 100.0,
                            "description": "Inside production casing (full bore)",
                            "excess_used": 0.4,
                            "cap_bbl_per_ft": 0.022177272197396538
                        }
                    ],
                    "materials_explain": {
                        "rounding_mode": "nearest",
                        "water_gal_per_sk": 5.2,
                        "yield_ft3_per_sk": 1.32
                    },
                    "original_calculated_sacks": 13,
                    "texas_25_sack_minimum_applied": true
                },
                "step_id": 4,
                "bottom_ft": 2400.0,
                "plug_type": "perf_and_squeeze_plug",
                "cement_class": null,
                "depth_mid_ft": null,
                "display_name": "Perf & squeeze - cement_plug",
                "plug_purpose": "formation_top_plug",
                "tag_required": null,
                "regulatory_basis": [
                    "rrc.district.7c.upton:formation_top:Yates"
                ],
                "special_instructions": null
            },
            {
                "top": 1000.0,
                "base": 700.0,
                "type": "cement_plug",
                "sacks": 109,
                "top_ft": 1000.0,
                "details": {
                    "merged": true,
                    "cement_class": "C",
                    "depth_mid_ft": 650.0,
                    "merged_steps": [
                        {
                            "top_ft": 600.0,
                            "bottom_ft": 700.0,
                            "formation": null
                        },
                        {
                            "top_ft": 1000.0,
                            "bottom_ft": 900.0,
                            "formation": "Santa Rosa"
                        },
                        {
                            "top_ft": 1000.0,
                            "bottom_ft": 900.0,
                            "formation": "Santa Rosa"
                        }
                    ],
                    "verification": {
                        "action": "TAG",
                        "required_wait_hr": 4
                    },
                    "segments_calc": [
                        {
                            "top_ft": 1000.0,
                            "bottom_ft": 700.0,
                            "length_ft": 300.0
                        },
                        {
                            "merged_formations": [
                                null,
                                "Santa Rosa",
                                "Santa Rosa"
                            ]
                        },
                        {
                            "bbl": 25.599126889450165,
                            "top_ft": 1000.0,
                            "inner_in": 0.0,
                            "outer_in": 7.921,
                            "bottom_ft": 700.0,
                            "length_ft": 300.0,
                            "description": "Inside production casing (full bore)",
                            "excess_used": 0.4,
                            "cap_bbl_per_ft": 0.06095030211773849
                        }
                    ],
                    "materials_explain": {
                        "rounding_mode": "nearest",
                        "water_gal_per_sk": 5.2,
                        "yield_ft3_per_sk": 1.32
                    }
                },
                "step_id": 5,
                "bottom_ft": 700.0,
                "plug_type": "perf_and_squeeze_plug",
                "cement_class": null,
                "depth_mid_ft": null,
                "display_name": "Perf & squeeze - cement_plug - WOC 4 Hours and Tag",
                "plug_purpose": "surface_casing_shoe_plug",
                "tag_required": true,
                "regulatory_basis": [
                    "rrc.district.7c.upton:additional_requirements.tag",
                    "rrc.district.7c.upton:formation_top:Santa Rosa",
                    "rrc.district.7c.upton:tag.required",
                    "tx.tac.16.3.14(e)(2)"
                ],
                "special_instructions": "Pump via tubing/drill pipe only"
            },
            {
                "top": 0.0,
                "base": 10.0,
                "type": "top_plug",
                "sacks": null,
                "top_ft": 0.0,
                "details": {
                    "cement_class": "C",
                    "depth_mid_ft": 5.0
                },
                "step_id": 6,
                "bottom_ft": 10.0,
                "plug_type": "spot_plug",
                "display_name": "Spot plug - Surface safety plug",
                "plug_purpose": "top_plug",
                "tag_required": null,
                "regulatory_basis": [
                    "tx.tac.16.3.14(d)(8)"
                ],
                "special_instructions": "Pump via tubing/drill pipe only"
            },
            {
                "top": 3.0,
                "base": 3.0,
                "type": "cut_casing_below_surface",
                "sacks": null,
                "top_ft": 3.0,
                "details": {},
                "step_id": 7,
                "bottom_ft": 3.0,
                "plug_type": null,
                "display_name": "cut_casing_below_surface",
                "plug_purpose": "cut_casing_below_surface",
                "tag_required": null,
                "regulatory_basis": [
                    "tx.tac.16.3.14(d)(8)"
                ],
                "special_instructions": "Pump via tubing/drill pipe only"
            },
            {
                "top": null,
                "base": null,
                "type": "uqw_isolation_plug",
                "sacks": null,
                "top_ft": null,
                "details": {
                    "verification": {
                        "action": "TAG",
                        "required_wait_hr": 4
                    }
                },
                "step_id": 8,
                "bottom_ft": null,
                "plug_type": "perf_and_squeeze_plug",
                "display_name": "Perf & squeeze - UQW isolation - WOC 4 Hours and Tag",
                "plug_purpose": "uqw_isolation_plug",
                "tag_required": true,
                "regulatory_basis": [
                    "tx.tac.16.3.14(g)(1)",
                    "rrc.district.7c.upton:tag.required"
                ],
                "special_instructions": "Pump via tubing/drill pipe only"
            }
        ],
        "county": "UPTON",
        "district": "7C",
        "rounding": "nearest",
        "extraction": {
            "files": [
                "/app/ra_config/mediafiles/uploads/rrc/completions/4246139385/W-2_4246139385_20260109_052233.pdf",
                "/app/ra_config/mediafiles/uploads/rrc/completions/4246139385/W-15_4246139385_20260109_052234.pdf"
            ],
            "source": "rrc_completions",
            "status": "success",
            "output_dir": "/app/ra_config/mediafiles/uploads/rrc/completions/4246139385",
            "user_files": [
                {
                    "kind": "pdf",
                    "type": "w2",
                    "filename": "1767936212__PR0008365802_0001.pdf"
                }
            ]
        },
        "plan_notes": null,
        "rrc_export": [
            {
                "type": "CIBP",
                "sacks": null,
                "to_ft": 6860.0,
                "toc_ft": 6860.0,
                "from_ft": 6860.0,
                "plug_no": 1,
                "remarks": "tx.tac.16.3.14(g)(3)",
                "step_id": 1,
                "additional": null,
                "wait_hours": null,
                "cement_class": null,
                "tag_required": null,
                "mechanical_type": null,
                "regulatory_purpose": "bridge_plug"
            },
            {
                "type": "Dumpbail (CIBP cap)",
                "sacks": 2,
                "to_ft": 6840.0,
                "toc_ft": 6840.0,
                "from_ft": 6860.0,
                "plug_no": 2,
                "remarks": "tx.tac.16.3.14(g)(3)",
                "step_id": 2,
                "additional": null,
                "wait_hours": null,
                "cement_class": "H",
                "tag_required": null,
                "mechanical_type": "dumpbail_plug",
                "regulatory_purpose": "bridge_plug_cap"
            },
            {
                "type": "Spot plug",
                "sacks": 145,
                "to_ft": 4500.0,
                "toc_ft": 4500.0,
                "from_ft": 3400.0,
                "plug_no": 3,
                "remarks": "rrc.district.7c.upton:additional_requirements.tag; rrc.district.7c.upton:formation_top:San Andres, Formation isolation: San Andres at 3500 ft, -100 ft",
                "step_id": 3,
                "additional": [
                    "Wait 4 hr and tag TOC"
                ],
                "wait_hours": 4,
                "cement_class": null,
                "tag_required": true,
                "mechanical_type": "spot_plug",
                "regulatory_purpose": "formation_top_plug"
            },
            {
                "type": "Perf & squeeze",
                "sacks": 25,
                "to_ft": 2500.0,
                "toc_ft": 2500.0,
                "from_ft": 2400.0,
                "plug_no": 4,
                "remarks": "rrc.district.7c.upton:formation_top:Yates, Formation isolation: Yates at 2500 ft, -100 ft",
                "step_id": 4,
                "additional": null,
                "wait_hours": null,
                "cement_class": null,
                "tag_required": null,
                "mechanical_type": "perf_and_squeeze_plug",
                "regulatory_purpose": "formation_top_plug"
            },
            {
                "type": "Perf & squeeze",
                "sacks": 109,
                "to_ft": 1000.0,
                "toc_ft": 1000.0,
                "from_ft": 700.0,
                "plug_no": 5,
                "remarks": "rrc.district.7c.upton:additional_requirements.tag; rrc.district.7c.upton:formation_top:Santa Rosa; rrc.district.7c.upton:tag.required; tx.tac.16.3.14(e)(2), Surface casing shoe coverage +50 ft shallower",
                "step_id": 5,
                "additional": [
                    "Wait 4 hr and tag TOC"
                ],
                "wait_hours": 4,
                "cement_class": "C",
                "tag_required": true,
                "mechanical_type": "perf_and_squeeze_plug",
                "regulatory_purpose": "surface_casing_shoe_plug"
            },
            {
                "type": "Spot plug",
                "sacks": null,
                "to_ft": 0.0,
                "toc_ft": 0.0,
                "from_ft": 10.0,
                "plug_no": 6,
                "remarks": "tx.tac.16.3.14(d)(8)",
                "step_id": 6,
                "additional": null,
                "wait_hours": null,
                "cement_class": "C",
                "tag_required": null,
                "mechanical_type": "spot_plug",
                "regulatory_purpose": "top_plug"
            },
            {
                "type": "cut_casing_below_surface",
                "sacks": null,
                "to_ft": 3.0,
                "toc_ft": 3.0,
                "from_ft": 3.0,
                "plug_no": 7,
                "remarks": "tx.tac.16.3.14(d)(8)",
                "step_id": 7,
                "additional": null,
                "wait_hours": null,
                "cement_class": null,
                "tag_required": null,
                "mechanical_type": null,
                "regulatory_purpose": "cut_casing_below_surface"
            },
            {
                "type": "Perf & squeeze",
                "sacks": null,
                "to_ft": null,
                "toc_ft": null,
                "from_ft": null,
                "plug_no": 8,
                "remarks": "tx.tac.16.3.14(g)(1); rrc.district.7c.upton:tag.required, UQW base isolation Â±50 ft",
                "step_id": 8,
                "additional": [
                    "Wait 4 hr and tag TOC"
                ],
                "wait_hours": 4,
                "cement_class": null,
                "tag_required": true,
                "mechanical_type": "perf_and_squeeze_plug",
                "regulatory_purpose": "uqw_isolation_plug"
            }
        ],
        "violations": [],
        "jurisdiction": "TX",
        "kernel_version": "0.1.0",
        "debug_overrides": {
            "squeeze_via_perf": null
        },
        "field_resolution": {
            "method": null,
            "matched_field": null,
            "requested_field": "SPRABERRY (TREND AREA)",
            "matched_in_county": null,
            "nearest_distance_km": null
        },
        "materials_totals": {
            "total_bbl": 63.32,
            "total_sacks": 281
        },
        "formations_targeted": [
            "San Andres",
            "Santa Rosa",
            "Yates"
        ],
        "facts_update_preview": {
            "lat": {
                "after": 31.393926,
                "before": null,
                "source": "w2"
            },
            "lon": {
                "after": -102.169205,
                "before": null,
                "source": "w2"
            }
        },
        "historic_cement_jobs": [
            {
                "sacks": 750,
                "job_type": "surface",
                "additives": [],
                "cement_top_ft": 0,
                "interval_top_ft": 0,
                "yield_ft3_per_sk": 1.18,
                "interval_bottom_ft": 750,
                "slurry_density_ppg": 15.6
            },
            {
                "sacks": 750,
                "job_type": "intermediate",
                "additives": [],
                "cement_top_ft": 2756,
                "interval_top_ft": 0,
                "yield_ft3_per_sk": 1.18,
                "interval_bottom_ft": 10487,
                "slurry_density_ppg": 15.6
            }
        ],
        "formation_tops_detected": []
    }
}